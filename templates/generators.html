{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <h1>Power Grid Management</h1>
        <div class="welcome">
            <p>Welcome, Admin</p>
            <a href="{% url 'logout' %}">Logout</a>
        </div>

        <h2>Generators</h2>

        <!-- Generator ID Input Form -->
        <form method="GET" action=""href="{% url 'view_generator' generator_id=1 %}">
            <label for="generator_id">Enter Generator ID: </label>
            <input type="text" id="generator_id" name="generator_id" required>
            <button type="submit">View Generator</button>
        </form>

        <!-- Display Generator Details -->
        {% if generator %}
            <div class="generator-details">
                <h3>Generator Details</h3>
                <p><strong>Fuel:</strong> {{ generator.fuel }}</p>
                <p><strong>Status:</strong> {{ generator.activity_status }}</p>
                <p><strong>Power Produced:</strong> {{ generator.current_production }}</p>
                <p><strong>Peak Capacity:</strong> {{ generator.peak_capacity }}</p>
                <p><strong>Grid 1:</strong> {{ generator.grid_1 }}</p> 
                <p><strong>Grid 2:</strong> {{ generator.grid_2}}</p>               
                <a href="{% url 'update_generator' generator_id=generator.uuid %}">Edit Generator</a>
            </div>
        {% else %}
            <p>No generator selected. Please enter a valid generator ID.</p>
        {% endif %}
        <a href="/admin_panel/{{user.uuid}}">Go to Admin Panel</a>
        <footer>
            <p>&copy; 2025 Power Grid Management</p>
        </footer>
    </div>
{% endblock %}
